<!DOCTYPE html>
<html>
    <head>
        <title>Test Report</title>
        <style>
            .mb-3,
            .my-3 {
            margin-bottom: 1rem !important
            }

            .text-center {
            text-align: center !important
            }

            .mt-4,
            .my-4 {
            margin-top: 1.5rem !important
            }

            .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-width: 992px !important;
            }

            .row {
            display: -ms-flexbox;
            display: flex;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            margin-right: -15px;
            margin-left: -15px
            }

            .no-gutters {
            margin-right: 0;
            margin-left: 0;
            min-width: 1000px;
            }

            .no-gutters>.col,
            .no-gutters>[class*=col-] {
            padding-right: 0;
            padding-left: 0
            }

            .col-2 {
            -ms-flex: 0 0 22%;
            flex: 0 0 22%;
            max-width: 22%
            }

            .col-4 {
            -ms-flex: 0 0 39%;
            flex: 0 0 39%;
            max-width: 39%
            }

            .col,
            .col-1,
            .col-10,
            .col-11,
            .col-12,
            .col-2,
            .col-3,
            .col-4,
            .col-5,
            .col-6,
            .col-7,
            .col-8,
            .col-9,
            .col-auto,
            .col-lg,
            .col-lg-1,
            .col-lg-10,
            .col-lg-11,
            .col-lg-12,
            .col-lg-2,
            .col-lg-3,
            .col-lg-4,
            .col-lg-5,
            .col-lg-6,
            .col-lg-7,
            .col-lg-8,
            .col-lg-9,
            .col-lg-auto,
            .col-md,
            .col-md-1,
            .col-md-10,
            .col-md-11,
            .col-md-12,
            .col-md-2,
            .col-md-3,
            .col-md-4,
            .col-md-5,
            .col-md-6,
            .col-md-7,
            .col-md-8,
            .col-md-9,
            .col-md-auto,
            .col-sm,
            .col-sm-1,
            .col-sm-10,
            .col-sm-11,
            .col-sm-12,
            .col-sm-2,
            .col-sm-3,
            .col-sm-4,
            .col-sm-5,
            .col-sm-6,
            .col-sm-7,
            .col-sm-8,
            .col-sm-9,
            .col-sm-auto,
            .col-xl,
            .col-xl-1,
            .col-xl-10,
            .col-xl-11,
            .col-xl-12,
            .col-xl-2,
            .col-xl-3,
            .col-xl-4,
            .col-xl-5,
            .col-xl-6,
            .col-xl-7,
            .col-xl-8,
            .col-xl-9,
            .col-xl-auto {
            position: relative;
            width: 100%;
            padding-right: 15px;
            padding-left: 15px
            }

            .table {
            border-collapse: collapse !important
            }

            .table .thead-dark th {
            color: inherit;
            border-color: #dee2e6
            }

            .table {
            width: 100%;
            margin-bottom: 1rem;
            color: #212529
            }

            .table td,
            .table th {
            padding: .75rem;
            vertical-align: top;
            border-top: 1px solid #dee2e6
            }

            .table thead th {
            vertical-align: bottom;
            border-bottom: 2px solid #dee2e6
            }

            .table tbody+tbody {
            border-top: 2px solid #dee2e6
            }

            .table .thead-dark th {
            color: #fff;
            background-color: #343a40;
            border-color: #454d55
            }

            .table .thead-light th {
            color: #495057;
            background-color: #e9ecef;
            border-color: #dee2e6
            }

            .form-control {
            display: block;
            width: 100%;
            height: calc(1em + .75rem + 2px);
            padding: .375rem .75rem;
            font-size: 0.85rem;
            font-weight: 400;
            line-height: 1.5;
            color: #495057;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #ced4da;
            border-radius: .25rem;
            transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out
            }

            @media (prefers-reduced-motion:reduce) {
            .form-control {
                transition: none
            }
            }

            .input-group {
            position: relative;
            display: -ms-flexbox;
            display: flex;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            -ms-flex-align: stretch;
            align-items: stretch;
            width: 100%
            }

            .table-bordered td,
            .table-bordered th {
            border: 1px solid #dee2e6 !important
            }

            .table-bordered {
            border: 1px solid #dee2e6
            }

            .table-bordered td,
            .table-bordered th {
            border: 1px solid #dee2e6
            }

            .table-bordered thead td,
            .table-bordered thead th {
            border-bottom-width: 2px
            }

            thead {
            display: table-header-group
            }

            .badge {
            display: inline-block;
            padding: .25em .4em;
            font-size: 75%;
            font-weight: 700;
            line-height: 1;
            text-align: center;
            white-space: nowrap;
            vertical-align: baseline;
            border-radius: .25rem;
            transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out
            }

            @media (prefers-reduced-motion:reduce) {
            .badge {
                transition: none
            }
            }

            a.badge:focus,
            a.badge:hover {
            text-decoration: none
            }

            .badge:empty {
            display: none
            }

            .btn .badge {
            position: relative;
            top: -1px
            }

            .badge-pill {
            padding-right: .6em;
            padding-left: .6em;
            border-radius: 10rem
            }

            .badge-primary {
            color: #fff;
            background-color: #007bff
            }

            a.badge-primary:focus,
            a.badge-primary:hover {
            color: #fff;
            background-color: #0062cc
            }

            a.badge-primary.focus,
            a.badge-primary:focus {
            outline: 0;
            box-shadow: 0 0 0 .2rem rgba(0, 123, 255, .5)
            }

            .badge-secondary {
            color: #fff;
            background-color: #6c757d
            }

            a.badge-secondary:focus,
            a.badge-secondary:hover {
            color: #fff;
            background-color: #545b62
            }

            a.badge-secondary.focus,
            a.badge-secondary:focus {
            outline: 0;
            box-shadow: 0 0 0 .2rem rgba(108, 117, 125, .5)
            }

            .badge-success {
            color: #fff;
            background-color: #28a745
            }

            a.badge-success:focus,
            a.badge-success:hover {
            color: #fff;
            background-color: #1e7e34
            }

            a.badge-success.focus,
            a.badge-success:focus {
            outline: 0;
            box-shadow: 0 0 0 .2rem rgba(40, 167, 69, .5)
            }

            .badge-info {
            color: #fff;
            background-color: #17a2b8
            }

            a.badge-info:focus,
            a.badge-info:hover {
            color: #fff;
            background-color: #117a8b
            }

            a.badge-info.focus,
            a.badge-info:focus {
            outline: 0;
            box-shadow: 0 0 0 .2rem rgba(23, 162, 184, .5)
            }

            .badge-warning {
            color: #212529;
            background-color: #ffc107
            }

            a.badge-warning:focus,
            a.badge-warning:hover {
            color: #212529;
            background-color: #d39e00
            }

            a.badge-warning.focus,
            a.badge-warning:focus {
            outline: 0;
            box-shadow: 0 0 0 .2rem rgba(255, 193, 7, .5)
            }

            .badge-danger {
            color: #fff;
            background-color: #dc3545
            }

            a.badge-danger:focus,
            a.badge-danger:hover {
            color: #fff;
            background-color: #bd2130
            }

            a.badge-danger.focus,
            a.badge-danger:focus {
            outline: 0;
            box-shadow: 0 0 0 .2rem rgba(220, 53, 69, .5)
            }

            .badge-light {
            color: #212529;
            background-color: #f8f9fa
            }

            a.badge-light:focus,
            a.badge-light:hover {
            color: #212529;
            background-color: #dae0e5
            }

            a.badge-light.focus,
            a.badge-light:focus {
            outline: 0;
            box-shadow: 0 0 0 .2rem rgba(248, 249, 250, .5)
            }

            .badge-dark {
            color: #fff;
            background-color: #343a40
            }

            a.badge-dark:focus,
            a.badge-dark:hover {
            color: #fff;
            background-color: #1d2124
            }

            a.badge-dark.focus,
            a.badge-dark:focus {
            outline: 0;
            box-shadow: 0 0 0 .2rem rgba(52, 58, 64, .5)
            }
        </style>
    </head>

    <body>
        <h1 class="mb-3 text-center">{{title}}</h1>
        <!-- Execution information -->
        {% if execution %}
        <section class="my-4">
        <h1 class="mb-3 text-center">Task Information</h1>
        <div class="container">
            <table class="table table-bordered text-center">
            <thead style="background-color: #8f8a89; color: white">
                <tr>
                <th style="text-align: left" scope="col">Information</th>
                {% for platform in execution %}
                <th scope="col">{{ platform }}</th>
                {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for info in execution_info %}
                    <tr>
                    <td style="text-align: left; background-color: #006779; color: white" scope="row">{{ info }}</td>
                    {% for platform in execution %}
                    <td>{{ execution[platform][info] }}</td>
                    {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
            </table>
        </div>
        </section>
        {% endif %}

        <!-- Test System informtion -->
        {% if testsystem %}
        <section class="my-4">
        <h1 class="mb-3 text-center">Test System</h1>
        <div class="container">
            <table class="table table-bordered text-center">
            <thead style="background-color: #006779; color: white">
                <tr>
                <th scope="col" data-sort="id">History ID</th>
                <th scope="col" data-sort="case_name">Test Platform Type</th>
                <th scope="col" data-sort="case_name">Module Type</th>
                <th scope="col" data-sort="result">Module Ref</th>
                <th scope="col" data-sort="log">SIM Ref</th>
                <th scope="col" data-sort="log">FW Version</th>
                <th scope="col" data-sort="log">Legato Ver</th>
                </tr>
            </thead>
            <tbody>
                {% for platform in testsystem %}
                {% for row in testsystem[platform] %}
                    <tr>
                    <td>
                        <a
                        href="http://10.29.51.78:1337/execution/{{ row['history_ID'] }}/"
                        >{{ row['history_ID'] }}</a
                        >
                    </td>
                    <td>{{ row['Test Framework'] }}</td>
                    <td>{{ row['Module Type'] }}</td>
                    <td>{{ row['Module Ref'] }}</td>
                    <td>{{ row['SIM Ref'] }}</td>
                    <td>{{ row['FW Version'] }}</td>
                    <td>{{ row['Legato Ver'] }}</td>
                    </tr>
                {% endfor %}
                {% endfor %}
            </tbody>
            </table>
        </div>
        </section>
        {% endif %}

        <!-- Test Report -->
        <section class="my-4">
        <h1 class="mb-3 text-center">Test Results</h1>
        <div class="container">
            <table class="table table-bordered text-center" id="testTable">
            <thead style="background-color: #006779; color: white">
                <tr>
                <th
                    scope="col"
                    class="sort"
                    data-sort-dir="up"
                    data-sort="test_id"
                >
                    Test Id
                    <span class="float-right sort-icon">
                    <i class="fas fa-sort-up"></i>
                    </span>
                </th>
                <th
                    scope="col"
                    class="sort"
                    data-sort-dir="up"
                    data-sort="test_case"
                >
                    Test Case
                    <span class="float-right sort-icon">
                    <i class="fas fa-sort-up"></i>
                    </span>
                </th>
                <th
                    scope="col"
                    class="sort"
                    data-sort-dir="up"
                    data-sort="test_platform"
                >
                    Test Platform
                    <span class="float-right sort-icon">
                    <i class="fas fa-sort-up"></i>
                    </span>
                </th>
                <th scope="col" class="sort" data-sort-dir="down">
                    Result
                    <span class="float-right sort-icon">
                    <i class="fas fa-sort-up"></i>
                    </span>
                </th>
                <th scope="col" class="sort" data-sort-dir="down">
                    Log Link
                    <span class="float-right sort-icon">
                    <i class="fas fa-sort-up"></i>
                    </span>
                </th>
                <th scope="col" class="sort" data-sort-dir="down">
                    Coredump
                    <span class="float-right sort-icon">
                    <i class="fas fa-sort-up"></i>
                    </span>
                </th>
                <th scope="col" class="sort" data-sort-dir="down">
                    Duration
                    <span class="float-right sort-icon">
                    <i class="fas fa-sort-up"></i>
                    </span>
                </th>
                </tr>
            </thead>
            <tbody id="sort">
                {% for platform in data %}
                    {% for row in data[platform] %}
                    <tr class="sort">
                    <td>{{ row['Id'] }}</td>
                    <td>{{ row['Test Name'] }}</td>
                    <td>{{ row['Test Platform'] }}</td>
                    <td>
                        {% if row['Result'] == 'Passed' %}
                        <span class="badge badge-success">{{ row['Result'] }}</span>
                        {% elif row['Result'] == 'N/A' %}
                        <span class="badge badge-info">{{ row['Result'] }}</span>
                        {% elif row['Result'] == 'No Run' %}
                        <span class="badge badge-secondary">{{ row['Result'] }}</span>
                        {% else %}
                        <span class="badge badge-danger">{{ row['Result'] }}</span>
                        {% endif %}
                    </td>
                    <td>
                        {% if row['Log Link'] != "N/A" %}
                        <a href="{{row['Log Link']}}"> Log </a>
                        {% endif %}
                    </td>
                    <td>{% if row['Log Link'] != "N/A" %} {{row['coredump']}} {% endif %}</td>
                    <td>{{row['Duration(secs)']}} seconds</td>
                    </tr>
                    {% endfor %}
                {% endfor %}
            </tbody>
            </table>
        </div>
        </section>
    </body>
</html>
